# AIOps-Intelligent-RCA v2.0: Neuro-Symbolic Triage Engine

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-Research_Prototype-orange.svg)]()
[![DOI](https://zenodo.org/badge/1114458069.svg)](https://doi.org/10.5281/zenodo.17898791)


> **Status:** Production-Ready | **Architecture:** Neuro-Symbolic (ç¥ç»ç¬¦å·æ¶æ„) | **Focus:** RPC Golden Signals
> 
> **âš ï¸ å£°æ˜**
> 
> æœ¬ä»“åº“ä¸ºé¡¹ç›®æ¶æ„ä¸è®¾è®¡æ€æƒ³çš„å±•ç¤ºã€‚
> é‰´äºå•†ä¸šä¿å¯†åè®® (NDA)ï¼Œæºä»£ç åŠæ•æ„Ÿè„±æ•æ•°æ®æœªåœ¨æ­¤å…¬å¼€ï¼Œä»…ä¿ç•™æ–‡æ¡£ä»¥ä¾›æŠ€æœ¯äº¤æµã€‚

## ğŸ“– é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªé¢å‘å¾®æœåŠ¡æ¶æ„çš„**å‚ç›´é¢†åŸŸæ™ºèƒ½è¯Šæ–­å¹³å°**ã€‚

é’ˆå¯¹å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿä¸­â€œå‘Šè­¦é£æš´â€ä¸â€œæ•…éšœå®šä½éš¾â€çš„ç—›ç‚¹ï¼Œæœ¬é¡¹ç›®æ„å»ºäº†ä¸€å¥—**â€œåŸºäº Trace æ‹“æ‰‘å®šä½ + ç»Ÿè®¡å­¦ç‰¹å¾æå– + LLM åˆ†å±‚åäº‹å®æ¨ç†â€**çš„è‡ªåŠ¨åŒ–è¯Šæ–­ç®¡é“ã€‚

ç³»ç»Ÿé‡‡ç”¨**ç¥ç»ç¬¦å·ï¼ˆNeuro-Symbolicï¼‰æ¶æ„**ï¼šå‰ç«¯åˆ©ç”¨**Z-Scoreã€æ—¥å¿—èšç±»**ç­‰ç»Ÿè®¡ç®—æ³•ç²¾å‡†æå–å¼‚å¸¸ç‰¹å¾ï¼ˆç¬¦å·åŒ–ï¼‰ï¼Œåç«¯åˆ©ç”¨ **LLM è¿›è¡Œå› æœæ¨æ–­ä¸åäº‹å®éªŒè¯**ï¼ˆç¥ç»è¿æ¥ï¼‰ï¼Œå®ç°ä»â€œæ•…éšœå‘ç”Ÿâ€åˆ°â€œæ ¹å› æŠ¥å‘Šç”Ÿæˆâ€çš„åˆ†é’Ÿçº§è‡ªåŠ¨åŒ–é—­ç¯ã€‚


---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºç³»ç»Ÿè®¾è®¡ï¼Œæ ¸å¿ƒæŠ€æœ¯ç»†èŠ‚å·²æ‹†åˆ†ä¸ºä»¥ä¸‹ç‹¬ç«‹æ–‡æ¡£ï¼š

### ğŸ›  ç³»ç»Ÿè®¾è®¡ä¸æ ¸å¿ƒåŸç†

* **[æ ¸å¿ƒç®—æ³•æ¦‚å¿µ (Core Concepts)](docs/design/CORE_CONCEPTS.md)**
    
    * è¯¦è§£ **é“¾è·¯æƒé‡å®šä½ç®—æ³•** çš„æƒé‡å› å­è®¾è®¡ã€‚
    * é˜è¿° **è´å¶æ–¯ä¼¼ç„¶æ¯”** åœ¨æ’é™¤åº•å±‚ç½‘ç»œæŠ–åŠ¨ä¸­çš„æ•°å­¦åŸç†ã€‚
    * å±•ç¤º **LLM åˆ†å±‚æ¨ç†** çš„ Prompt ç»“æ„ä¸æ¨¡æ‹Ÿæ¡ˆä¾‹ã€‚

* **[æ¶æ„æ¼”è¿›å¤ç›˜ (Architecture Evolution)](docs/design/EVOLUTION.md)**
    
    * è®°å½•ç³»ç»Ÿä» v1.0 (åäº‹å®å‡è®¾ReactAgent) åˆ° v2.0 (ç»Ÿè®¡ç®—æ³•+å›ºå®šSOP+LLMæ¨è®ºèŠ‚ç‚¹) çš„é‡æ„å†ç¨‹ä¸æŠ€æœ¯å†³ç­–ã€‚

### ğŸ’¡ å·¥ç¨‹æ€è€ƒä¸åšå®¢

* **[ä¸“çº¿æŠ–åŠ¨å¼‚å¸¸æ£€æµ‹ç®—æ³•](blog/ä¸“çº¿æŠ–åŠ¨å¼‚å¸¸æ£€æµ‹ç®—æ³•.md)** â€”â€” æ¢è®¨ç®€å•çš„åº”ç”¨é”™è¯¯ç‡å‘ˆé˜¶æ¢¯åˆ†å¸ƒåˆ¤æ–­ç½‘ç»œä¸“çº¿æŠ–åŠ¨ä¸ºä»€ä¹ˆå‡†
* **[å¹»è§‰ä¸ç°å®ï¼šä» ReAct æ™ºèƒ½ä½“åˆ°ç¡®å®šæ€§å·¥ä½œæµ â€”â€” æˆ‘åœ¨ AIOps æ ¹å› å®šä½ä¸­çš„â€œç¥›é­…â€ä¹‹æ—…](blog/å¹»è§‰ä¸ç°å®ï¼šä»%20ReAct%20æ™ºèƒ½ä½“åˆ°ç¡®å®šæ€§å·¥ä½œæµ%20â€”â€”%20æˆ‘åœ¨%20AIOps%20æ ¹å› å®šä½ä¸­çš„â€œç¥›é­…â€ä¹‹æ—….md)** â€”â€” å…³äºæˆ‘åœ¨åšå‡ºå®Œå–„ReActæ¨¡å¼Agentåä¸ºä»€ä¹ˆé€‰æ‹©æ”¾å¼ƒ
---

## âš¡ æ ¸å¿ƒå¤„ç†æµç¨‹

ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹å››æ­¥å®Œæˆè‡ªåŠ¨åŒ–è¯Šæ–­ã€‚ä¸å…¶ä»–ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨æ•°æ®è¿›å…¥ LLM ä¹‹å‰è¿›è¡Œäº†æé«˜å¯†åº¦çš„**ç»Ÿè®¡ç‰¹å¾å·¥ç¨‹**ä¸**é€’å½’æ·±æŒ–**ã€‚

```mermaid
graph LR
    A[ğŸš¨ å‘Šè­¦çˆ†å‘] --> B(ğŸ“ å…¨å±€å®šä½ Locate)
    B --> C{ğŸŒªï¸ å™ªéŸ³è¿‡æ»¤ Filter}
    C -->|åº”ç”¨å±‚æ•…éšœ| D[ğŸ“‰ é€’å½’æ„ŸçŸ¥ Sense]
    D --> E[ğŸ§  è¯­ä¹‰å‹ç¼© & æ¨ç† Reason]
    E --> F[ğŸ“ æŠ¥å‘Šç”Ÿæˆ Report]
    
    style A fill:#f9f,stroke:#333
    style D fill:#ff9,stroke:#333
    style E fill:#9f9,stroke:#333
```

### 1. å®šä½ (Locate)

* **Trace èšåˆæŒ–æ˜**ï¼šåŸºäºåŠ æƒä¼ æ’­ç®—æ³•ï¼Œåœ¨é”™ç»¼å¤æ‚çš„è°ƒç”¨é“¾ä¸­é”å®šçœŸæ­£çš„â€œæ•…éšœæºå¤´â€ã€‚
* **å…¥å£çº å**ï¼šé€šè¿‡â€œé˜»åŠ›å…¬å¼â€åŒºåˆ†æ˜¾æ€§æŠ¥é”™ä¸éšæ€§æ…¢ï¼Œé˜²æ­¢ Agent è¢« N+1 æˆ–ç½‘ç»œä¸¢åŒ…è¯¯å¯¼ã€‚

### 2. å»å™ª (Filter)

* **æ¢¯åº¦æ•…éšœå®šç•Œ**ï¼šåŸºäºé”™è¯¯ç‡åˆ†å¸ƒçš„æ¢¯åº¦ç‰¹å¾ï¼Œè‡ªåŠ¨åŒºåˆ†â€œå•ç‚¹åº”ç”¨æ•…éšœâ€ä¸â€œåº•å±‚ç½‘ç»œ/åŸºç¡€è®¾æ–½æŠ–åŠ¨â€ã€‚

### 3. æ„ŸçŸ¥ (Sense) â€”â€” *Recursive Statistical Extraction*

ç³»ç»Ÿä¸ç›´æ¥å°†åŸå§‹æ•°æ®ä¸¢ç»™ LLMï¼Œè€Œæ˜¯é€šè¿‡ç»Ÿè®¡ç®—æ³•è¿›è¡Œ**ç‰¹å¾æå–**ä¸**èŒƒå›´ä¿®æ­£**ï¼Œç¡®ä¿è¾“å…¥ä¿¡å™ªæ¯”ï¼š

* **é€’å½’æ·±æŒ– (Recursive Analysis)**ï¼šä¸ä»…ä»…å…³æ³¨æŠ¥é”™èŠ‚ç‚¹ï¼Œç®—æ³•ä¼šè‡ªåŠ¨é€’å½’æ‰«æ**é«˜æµé‡ä¸‹æ¸¸**åŠ**è‡ªç”Ÿè€—æ—¶çªå¢**çš„ä¾èµ–æœåŠ¡ã€‚è¿™èƒ½æœ‰æ•ˆæªå‡ºé‚£äº›â€œæœªæŠ¥é”™ä½†æ‹–æ­»ä¸Šæ¸¸â€çš„éšæ€§æ ¹å› ã€‚
* **Metric å¼‚å¸¸æ£€æµ‹**ï¼šé›†æˆå¤šç§ **Z-Score å˜ä½“**ï¼ˆå¦‚ Robust Z-Scoreï¼‰ï¼ŒåŠ¨æ€æ‰«æ CPUã€Memoryã€IO åŠ JVM æŒ‡æ ‡ï¼Œç²¾å‡†è¯†åˆ«åç¦»æ­£æ€åˆ†å¸ƒçš„çªå˜ç‚¹ã€‚
* **Log èšç±»ä¸èƒŒæ™¯æŠ‘åˆ¶**ï¼š
    * é‡‡ç”¨ **Drain/DBSCAN** ç®—æ³•å°†æµ·é‡æ—¥å¿—èšç±»ä¸ºæ ¸å¿ƒæ¨¡æ¿ï¼ˆTemplateï¼‰ã€‚
    * **å…³é”®æ­¥éª¤**ï¼šå¼•å…¥â€œèƒŒæ™¯å™ªå£°è¿‡æ»¤â€æœºåˆ¶ï¼Œå¯¹æ¯”å†å²æ­£å¸¸æ—¶æ®µï¼Œè‡ªåŠ¨å‰”é™¤é‚£äº›â€œæ—¥å¸¸å°±æœ‰ã€ä½å½±å“â€çš„æ— å…³æŠ¥é”™ï¼Œåªä¿ç•™æ•…éšœæœŸé—´**æ–°å¢æˆ–é¢‘ç‡æ¿€å¢**çš„å¼‚å¸¸æ—¥å¿—ã€‚

### 4. æ¨ç† (Reason) â€”â€” *Compression & Counterfactual Verification*

é‡‡ç”¨ç¡®å®šæ€§çš„åˆ†å±‚å·¥ä½œæµï¼ˆSOPï¼‰ï¼Œå…ˆâ€œè¯»è–„â€å†â€œæ¨æ–­â€ï¼š

* **è¯­ä¹‰å‹ç¼© (Information Compression)**ï¼šL1 èŠ‚ç‚¹å¹¶ä¸ç›´æ¥æ¨æ–­æ ¹å› ï¼Œè€Œæ˜¯å¼ºåˆ¶è¦æ±‚ LLM å°†å¤æ‚çš„ Metrics çªå˜å’Œ Log èšç±»ç»“æœ**ç¿»è¯‘**ä¸ºç®€ç»ƒçš„è‡ªç„¶è¯­è¨€æ‘˜è¦ï¼ˆSummaryï¼‰ã€‚å¼ºåˆ¶æ¨¡å‹è¿›è¡Œåˆæ­¥æ€»ç»“ï¼ŒåŒæ—¶ä¸ä¸¢å¤±åŸå§‹ä¿¡æ¯
* **åäº‹å®éªŒè¯ (Counterfactual Verification)**ï¼šåœ¨å¾—å‡ºåˆæ­¥ç»“è®ºåï¼Œå¼•å…¥ç‹¬ç«‹çš„ **Reviewer Agent** è¿›è¡Œè‡ªæˆ‘é©³æ–¥ã€‚
    * *ç¤ºä¾‹*ï¼šâ€œAgent å‡è®¾æ ¹å› æ˜¯ GG æ‹–ç´¯ã€‚Reviewer æå‡ºåäº‹å®ï¼šâ€˜å¦‚æœGcé—®é¢˜ï¼Œä¼šæ‰€æœ‰èŠ‚ç‚¹ä¸€èµ·æœ‰é—®é¢˜å—ï¼Ÿä¼šçº¿ç¨‹Dumpä¸­å¤§é‡blockedå—â€™ â€”â€” è¿›è€Œå€’é€¼llmé‡æ–°æ£€ç´¢æ˜¯å¦æ˜¯ä¸‹æ¸¸å˜æ…¢æ‹–ç´¯ä¸Šæ¸¸â€


---

## ğŸ’» æŠ€æœ¯æ ˆ

* **æ ¸å¿ƒè¯­è¨€**: Python (AsyncIO)
* **ç»Ÿè®¡ä¸ç®—æ³•**:
  * **Trace Mining**: Weighted Topology Propagation
  * **Anomaly Detection**: **Robust Z-Score**, 3-Sigma
  * **Log Mining**: **Drain3** / **DBSCAN** (Clustering & Noise Filtering)
* **å¤§æ¨¡å‹å·¥ç¨‹**:
  * **Framework**: LangChain (Custom Graph)
  * **Flow**: **SOP** (Summarize -> Reason -> Verify)
  * **Verification**: **Counterfactual Prompting**
* **æ•°æ®æº**: Prometheus, ELK, Clickhouse
---

## ğŸ“¬ å…³äºä½œè€…

çƒ­è¡·äº AIOpsã€LLM Agent è½åœ°çš„åç«¯å·¥ç¨‹å¸ˆã€‚
å¦‚æœå¯¹æœ¬é¡¹ç›®çš„è®¾è®¡ç»†èŠ‚æˆ–ç®—æ³•å®ç°æ„Ÿå…´è¶£ï¼Œæ¬¢è¿é€šè¿‡é‚®ä»¶æˆ– Issue è¿›è¡ŒæŠ€æœ¯äº¤æµã€‚

* **Email**: qingshanyuluo@gmail.com
